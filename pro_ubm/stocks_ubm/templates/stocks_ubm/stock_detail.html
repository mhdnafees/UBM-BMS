{% extends "stocks_base_temp.html" %}
{% block content %}
<section class="py-5">
  <div class="row">
    <div class="col-lg-5 mb-4">
      <div class="card">
        <div class="card-header">
          <h6 class="text-uppercase mb-0">{{ stock.product_name }} Details</h6>
        </div>
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start align-items-sm-center mb-4 flex-column flex-sm-row">
            <div class="left d-flex align-items-center">
              <div class="text">
                <h6 class="mb-0 d-flex align-items-center"><span>Product Name : </span></h6>
              </div>
            </div>
            <div class="right ml-5 ml-sm-0 pl-3 pl-sm-0">
              <h7>{{ stock.product_name }}</h7>
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-start align-items-sm-center mb-4 flex-column flex-sm-row">
            <div class="left d-flex align-items-center">
              <div class="text">
                <h6 class="mb-0 d-flex align-items-center"><span>Available Stock : </span></h6>
              </div>
            </div>
            <div class="right ml-5 ml-sm-0 pl-3 pl-sm-0">
              <h7>{{ stock.stock_available }}</h7>
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-start align-items-sm-center mb-4 flex-column flex-sm-row">
            <div class="left d-flex align-items-center">
              <div class="text">
                <h6 class="mb-0 d-flex align-items-center"><span>Landing Cost : </span></h6>
              </div>
            </div>
            <div class="right ml-5 ml-sm-0 pl-3 pl-sm-0">
              <h7>{{ stock.landing_cost }}</h7>
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-start align-items-sm-center mb-4 flex-column flex-sm-row">
            <div class="left d-flex align-items-center">
              <div class="text">
                <h6 class="mb-0 d-flex align-items-center"><span>Selling Price : </span></h6>
              </div>
            </div>
            <div class="right ml-5 ml-sm-0 pl-3 pl-sm-0">
              <h7>{{ stock.profit_price|floatformat:2 }}</h7>
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-start align-items-sm-center mb-4 flex-column flex-sm-row">
            <div class="left d-flex align-items-center">
              <div class="text">
                <h6 class="mb-0 d-flex align-items-center"><span>Total Units Sold : </span></h6>
              </div>
            </div>
            <div class="right ml-5 ml-sm-0 pl-3 pl-sm-0">
              <h7>{{ total_units.totalunits }}</h7>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="col-lg-7 mb-4">
      <div class="card">
        <div class="card-header">
          <h6 class="text-uppercase mb-0">Purchase History of {{ stock.product_name }} </h6>
        </div>
        <div class="card-body">
          <table id="example1" class="table table-striped table-hover table-sm card-text table-fixed css-serial">
            <thead>
              <tr>
                <th>S. No</th>
                <th>Date of Purchase</th>
                <th>Product Name</th>
                <th>Quantity</th>
                <th>Landing Cost</th>
              </tr>
            </thead>
            <tbody>
              {% for item in purchase_list %}
              <tr>
                <td></td>
                <td>{{ item.purchased_date }}</td>
                <td>{{ item.stock }}</td>
                <td>{{ item.num_of_items }}</td>
                <td>{{ item.updated_landing_cost }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-lg-12 mb-4">
      <div class="card">
        <div class="card-header">
          <h6 class="text-uppercase mb-0">Sales History of {{ stock.product_name }}</h6>
        </div>
        <div class="card-body">
          <table id="example" class="table table-striped table-hover card-text table-fixed css-serial">
            <thead>
              <tr>
                <th>S. No</th>
                <th>Date of Sale</th>
                <th>Product Name</th>
                <th>Quantity</th>
                <th>Landing Cost</th>
                <th>Sold Price</th>
                <th>Profit</th>
              </tr>
            </thead>
            <tbody>
              {% for item in sales_list %}
              <tr>
                <td></td>
                <td>{{ item.sold_date }}</td>
                <td>{{ item.stock_name }}</td>
                <td>{{ item.num_of_items }}</td>
                <td>{% if item.slanding_cost == 0 %} {{ item.stock_name.landing_cost|floatformat:2 }} {% else %}  {{ item.slanding_cost|floatformat:2 }} {% endif %}</td>
                <td>{{ item.sold_price|floatformat:2 }}</td>
                <td>{{ item.item_profit }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>





  </div>
</section>
{% endblock %}
